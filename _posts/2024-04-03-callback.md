---
title: "[js] ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì¼ê¸‰í•¨ìˆ˜ì˜ ì„±ì§ˆì— ê¸°ë°˜í•œ ì½œë°±í•¨ìˆ˜ì˜ ë¹„ë™ê¸° ì²˜ë¦¬ ë° Promise, async / await "
date: 2024-04-03 15:50 +0900
lastmod: 2024-11-17 17:58 +0900
categories: js
tags:
  [
    callable,
    arrow function,
    callback,
    asynchronous,
    promise,
    chaining,
    async,
    await
  ]
---

## ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ íŠ¹ì´í•œ ì¼ê¸‰í•¨ìˆ˜ë¡œì¨ì˜ ì„±ì§ˆ

<div style="margin-bottom: 15px;font-size:20px;background-color:#FFD24D;color:black;font-weight:normal;border-top-left-radius:5px;border-top-right-radius:5px;padding:2px;overflow-x:auto;white-space:nowrap;">
    ğŸ€ í•¨ìˆ˜ê°€ ë³€ìˆ˜ì²˜ëŸ¼ í• ë‹¹ë  ìˆ˜ ìˆë‹¤
</div>

<span style='color:rgb(196,58,26);'>ê°’ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê°ì²´</span>ë¥¼ <span style='color:rgb(196,58,26);font-weight:bold'>\*</span>ì¼ê¸‰ê°ì²´ë¼ í•œë‹¤.  
ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í•¨ìˆ˜ëŠ” <span style="padding:0 3px;border-radius:5px;background-color:#ffff9e;color:#624a3d;">í˜¸ì¶œê°€ëŠ¥í•œ ê°ì²´</span>ë¡œì¨, <span style="padding:0 3px;border-radius:5px;background-color:#BCD4E6;color:#34343c;">í”¼ì—°ì‚°ìë¡œ ì‚¬ìš©ë  ë•Œ í•¨ìˆ˜ ë¦¬í„°ëŸ´(ê°’)ë¡œ í•´ì„</span>ëœë‹¤.  
ì¦‰, í•˜ë‚˜ì˜ ê°’ì²˜ëŸ¼ ë™ì‘í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì¸ì(args)ë¡œì¨ ì „ë‹¬í•  ìˆ˜ ìˆê³ , ì´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.  
ë‹¨, í•¨ìˆ˜ëŠ” í˜¸ì¶œë˜ê¸° ì´ì „ì—, í•¨ìˆ˜ ì½”ë“œë¸”ë¡ì˜ ì–´ë–¤ ê²ƒë„ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.

## í•¨ìˆ˜ ì •ì˜ ë°©ì‹

<div style="margin-bottom:15px;font-size:20px;background-color:#2A52BE;color:white;border-top-left-radius:5px;border-top-right-radius:5px;padding:2px;overflow-x:auto;white-space:nowrap;">
    ğŸ™ í•¨ìˆ˜ ì •ì˜ ë°©ì‹
</div>

- í•¨ìˆ˜ ì„ ì–¸ë¬¸
  : ì„ ì–¸ë¬¸ì´ê¸° ë•Œë¬¸ì— <span style='color:rgb(196,58,26);'>í•¨ìˆ˜ í˜¸ì´ìŠ¤íŒ…</span>ì´ ì¼ì–´ë‚œë‹¤.  
  : í•¨ìˆ˜ì´ë¦„ê³¼ **ë™ì¼í•œ ì´ë¦„ì˜ ì‹ë³„ì**ê°€ ìƒì„±, í•¨ìˆ˜ ê°ì²´ê°€ í• ë‹¹

  ```js
  function add(x, y) {
    return x + y;
  }
  ```

- í•¨ìˆ˜ í‘œí˜„ì‹  
  : <span style='color:rgb(196,58,26);'>í•¨ìˆ˜ ë¦¬í„°ëŸ´</span>ë¡œ ìƒì„±í•¨ <span style='color:rgb(196,58,26);'>í•¨ìˆ˜ ê°ì²´</span>ê°€ ë³€ìˆ˜ì— í• ë‹¹

  ```js
  let add = function (x, y) {
    return x + y;
  };
  ```

- <span style="font-size: 16.48px;font-weight:bold;">Function ìƒì„±ì í•¨ìˆ˜</span>

  ```js
  let add = new Function("x", "y", "return x + y");
  ```

- í™”ì‚´í‘œ í•¨ìˆ˜  
  : <span style="padding:3px 6px;font-size:16px;border-radius:5px;background-color:rgba(0,0,0,0.03);color:#3f596f;font-weight:bold;">ECMAScript6</span> ë°˜ë³µë˜ëŠ” í‘œí˜„ë“¤ ë•Œë¬¸ì— ê°„ì†Œí™”ëœ ë¬¸ë²•

  ```js
  let add = (x, y) => x + y;
  ```

  - ì¶•ì•½ë¬¸ë²•
    - ì½”ë“œë¸”ë¡ ì•ˆì— returnë¬¸ë§Œ ìˆì„ ë•Œ, <span style="padding:3px 6px;font-size:16px;border-radius:5px;background-color:rgba(0,0,0,0.03);color:#462679;">ì¤‘ê´„í˜¸ ë° return ì˜ˆì•½ì–´ ì œê±° ê°€ëŠ¥</span>
      ```js
      const sum = () => 10 + 20;
      ```
    - íŒŒë¼ë¯¸í„°ê°€ í•˜ë‚˜ì¸ ê²½ìš°, <span style="padding:3px 6px;font-size:16px;border-radius:5px;background-color:rgba(0,0,0,0.03);color:#462679;">ê´„í˜¸ì œê±° ê°€ëŠ¥</span>
      ```js
      const logNum = (num) => {
        console.log(num);
        return num;
      };
      ```

- ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜  
  : ê·¸ë£¹ ì—°ì‚°ì `()`ë¡œ ê°ì‹¸ë©´ <span style='color:rgb(196,58,26);'>í•¨ìˆ˜ ë¦¬í„°ëŸ´ë¡œ í‰ê°€</span>ë˜ì–´ <span style='color:rgb(196,58,26);'>í•¨ìˆ˜ ê°ì²´ë¥¼ ìƒì„±</span>

  ```js
  (function () {
    let a = 3;
    let b = 5;
    return a + b;
  })();
  ```

## ì½œë°±í•¨ìˆ˜

<div style="margin-bottom:15px;font-size:20px;background-color:rgb(35,43,47);color:white;font-weight:normal;border-top-left-radius:5px;border-top-right-radius:5px;padding:2px;overflow-x:auto;white-space:nowrap;">
    ğŸ ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ë‚´ë¶€ë¡œ ì „ë‹¬ë˜ëŠ” í•¨ìˆ˜ë¥¼ ì½œë°±í•¨ìˆ˜ë¼ í•œë‹¤
</div>

<span style="padding:0 3px;font-size:16px;border-radius:5px;background-color:rgba(0,0,0,0.03);color:#34343c;">â€» ì¸ìˆ˜ë¡œ í•¨ìˆ˜ë¥¼ ë°›ëŠ” í•¨ìˆ˜ë¥¼ ê³ ì°¨í•¨ìˆ˜ë¼ í•œë‹¤.</span>

<span style="padding:3px 6px;font-size:16px;border-radius:5px;background-color:rgba(0,0,0,0.03);color:#3f596f;font-weight:bold;">ğŸ ì½œë°±í•¨ìˆ˜ë¥¼ ì´ìš©í•œ ë¹„ë™ê¸° ì²˜ë¦¬.js</span>

```js
setTimeout(function () {
  console.log("1ì´ˆ ê²½ê³¼");
}, 1000);
```

<span style="padding:3px 6px;font-size:16px;border-radius:5px;background-color:rgba(0,0,0,0.03);color:#3f596f;font-weight:bold;">ğŸ ì½œë°±í•¨ìˆ˜ë¥¼ ì´ìš©í•œ ë°°ì—´ ê³ ì°¨í•¨ìˆ˜.js</span>

```js
let res = [1, 2, 3].map(function (item) {
  return item * 2;
});
console.log(res); // [2, 4, 6]

res = [1, 2, 3].filter(function () {
  return item % 2;
});
console.log(res); // [1, 3]

res = [1, 2, 3].reduce(function (acc, cur) {
  return acc + cur;
});
console.log(res); // 6
```

## ë¹„ë™ê¸° ì²˜ë¦¬

<div style="margin-bottom:15px;font-size:20px;background-color:rgb(35,43,47);color:white;font-weight:normal;border-top-left-radius:5px;border-top-right-radius:5px;padding:2px;overflow-x:auto;white-space:nowrap;">
    ğŸ íŠ¹ì • ë¡œì§ì˜ ì‹¤í–‰ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³ , ë‹¤ìŒ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ì²˜ë¦¬ ë°©ì‹ì„ ë¹„ë™ê¸° ì²˜ë¦¬ë¼ í•œë‹¤
</div>

ìš”ì²­ì„ í•˜ê³  ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ ë•Œê¹Œì§€ <span style='color:rgb(196,58,26);'>ê¸°ë‹¤ë ¤ì£¼ëŠ” ì½”ë“œê°€ ì—†ìœ¼ë©´</span>,  
ë°ì´í„°ë¥¼ ë‹¤ ë°›ì•„ì˜¤ê¸°ë„ ì „ì— ë‹¤ìŒ ì½”ë“œê°€ ì‹¤í–‰ë˜ì–´ ì›í•˜ëŠ” ê°’ì„ ì–»ì„ ìˆ˜ ì—†ë‹¤.

```js
function fetchMenu() {
  setTimeout(() => {
    let data = { firstMenu: "êµ¬ë…" };
    return data;
  });
}

let menu = fetchMenu();

console.log("menu", menu); //menu undefined
```

ì½œë°±í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ <span style='color:rgb(196,58,26);'>íŠ¹ì • ë¡œì§ì´ ëë‚¬ì„ ë•Œ, ì›í•˜ëŠ” ë™ì‘ì„ ì‹¤í–‰</span>ì‹œí‚¬ ìˆ˜ ìˆë‹¤.  
ì¦‰, <span style='color:rgb(196,58,26);'>ì¼ê¸‰í•¨ìˆ˜ì˜ ì„±ì§ˆ</span>ì„ ì´ìš©í•´ í•¨ìˆ˜ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ê³ , ì „ë‹¬ëœ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

`ğŸ callback.js`

```js
function fetchMenu(callback) {
  setTimeout(() => {
    let data = { firstMenu: "êµ¬ë…" };
    callback(data);
  }, 5000);
}

let menu;
fetchMenu(function (result) {
  console.log("5ì´ˆë’¤ ì‹¤í–‰", result);
  menu = result;
  console.log("menu", menu);
});
```

ì½œë°±í•¨ìˆ˜ë¥¼ ì—°ì†í•´ì„œ ì‚¬ìš©í•  ë•Œ, ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤.  
ë˜í•œ, ë§¤ë²ˆ ì—ëŸ¬ì²˜ë¦¬ë¥¼ ìœ„í•œ ì¸ìë¥¼ ì¶”ê°€í•´ì•¼í•˜ë©°, ë¶„ê¸°í•´ì•¼ í•œë‹¤.

## ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ëŠ” ì•½ì†, Promise

<div style="margin-bottom:15px;font-size:20px;background-color:rgb(196,58,26);color:white;border-top-left-radius:5px;border-top-right-radius:5px;padding:2px;overflow-x:auto;white-space:nowrap;">
    ğŸŒ‹ PromiseëŠ” JavaScript ë¹„ë™ê¸° ì²˜ë¦¬ì— ì‚¬ìš©ë˜ëŠ” ê°ì²´ë‹¤
</div>

ì—°ì†ëœ ì½œë°±í•¨ìˆ˜ ì‚¬ìš©ìœ¼ë¡œ ì¸í•´ ë‚®ì•„ì§€ëŠ” <span style="margin-bottom:15px;padding:0 3px;border-radius:5px;background-color:#E1FEE5;">ê°€ë…ì„± ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.</span>

<div style="margin-bottom:15px;font-size:15px;background-color:rgba(0,0,0,0.03);border-radius:5px;padding:7px;"><span style="font-weight:bold;">ğŸ“• Promise  ìƒíƒœ</span><br>
- <B>Pending(ëŒ€ê¸°ìƒíƒœ):</B> ë¹„ë™ê¸° ì²˜ë¦¬ ë¡œì§ì´ ì•„ì§ ì™„ë£Œë˜ì§€ ì•Šì€ ìƒíƒœ<br><br>
- <B>Fulfilled(ì´í–‰ìƒíƒœ):</B> ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì™„ë£Œë˜ì–´ Promiseê°€ ê²°ê³¼ê°’ì„ ë°˜í™˜í•´ì¤€ ìƒíƒœ<br>
âš ï¸ ì½œë°±í•¨ìˆ˜ì˜ ì¸ì <span style='color:#6CA0DC;font-weight:bold;'>resolve</span>ë¥¼ í˜¸ì¶œí•˜ë©´ Fufilled ìƒíƒœê°€ ëœë‹¤.<br>
âš ï¸ Fulfilled ìƒíƒœê°€ ë˜ë©´ <span style='color:#6CA0DC;font-weight:bold'>then()</span>ì„ ì´ìš©í•˜ì—¬ ì²˜ë¦¬ ê²°ê³¼ê°’ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.<br><br>
- <B>Rejected(ì‹¤íŒ¨ìƒíƒœ):</B> ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì‹¤íŒ¨í•˜ê±°ë‚˜ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ìƒíƒœ<br>
âš ï¸ ì½œë°±í•¨ìˆ˜ì˜ ì¸ì <span style='color:rgb(196,58,26);font-weight:bold;'>reject</span>ë¥¼ í˜¸ì¶œí•˜ë©´ Rejected ìƒíƒœê°€ ëœë‹¤.<br>
âš ï¸ Rejected ìƒíƒœê°€ ë˜ë©´ errorë¥¼ <span style='color:rgb(196,58,26);font-weight:bold'>catch()</span>ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.
</div>

`ğŸ promise.js`

```js
function fetchMenu() {
  return new Promise(function (resolve, reject) {
    setTimeout(() => {
      let data = { firstMenu: "êµ¬ë…" };
      if (error) {
        reject(new Error("Request is failed"));
      }
      resolve(data);
    }, 5000);
  });
}

let menu;
fetchMenu()
  .then(function (result) {
    console.log("5ì´ˆ ë’¤ ì‹¤í–‰", result);
    menu = result;
    console.log("menu", menu);
  })
  .catch(function (error) {
    console.log("ì—ëŸ¬ ì²˜ë¦¬");
    return;
  });
```

---

<span style="font-weight:700;font-size:1.03rem;">ğŸª ì²´ì´ë‹ - ì—¬ëŸ¬ ê°œì˜ Promiseë¥¼ ì—°ê²°í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</span>  
 : <span style="margin-bottom:15px;padding:0 3px;font-size:16px;border-radius:5px;background-color:rgba(0,0,0,0.03);">then() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³  ë‚˜ë©´ ìƒˆë¡œìš´ Promiseê°ì²´ê°€ ë°˜í™˜ëœë‹¤.</span>

```js
new Promise(function (resolve, reject) {
  setTimeout(function () {
    resolve(1);
  }, 1000);
})
  .then(function (result) {
    console.log(result); //1
    return result + 10;
  })
  .then(function (result) {
    console.log(result); //11
    return result + 20;
  })
  .then(function (result) {
    console.log(result); //31
  });
```

---

<span style="font-weight:700;font-size:1.03rem;">â˜„ï¸ Promise 2ê°€ì§€ ì—ëŸ¬ ì²˜ë¦¬</span>  
 : (1) then() ë©”ì„œë“œì˜ ë‘ë²ˆì§¸ ì¸ì  
 (2) catch() <span style="margin-bottom:15px;font-size:15px;background-color:#ffdce0;color:rgb(196,58,26);font-weight:bold;border-radius:5px;padding:2px 7px;">ê¶Œê³ </span>

```js
function getData() {
  return new Promise(function (resolve, reject) {
    resolve("hi");
  });
}

getData().then(
  function (result) {
    console.log(result);
    throw new Error("Error in then()"); // ì—¬ê¸°ì„œ ì˜¤ë¥˜ê°€ ë‚˜ëŠ” ê²½ìš°
  },
  function (err) {
    // ì˜¤ë¥˜ë¥¼ ì¡ì•„ë‚´ì§€ ëª»í•œë‹¤
    console.log("then error= ", err);
  }
);
```

## ê°œë°œìê°€ ì½ê¸° ì¢‹ì€ ë¹„ë™ê¸° ì²˜ë¦¬ ì½”ë“œ, async / await

<div style="margin-bottom:15px;font-size:20px;background-color:#462679;color:white;border-top-left-radius:5px;border-top-right-radius:5px;padding:2px;overflow-x:auto;white-space:nowrap;">
    ğŸ í•´ë‹¹ ë¬¸ë²•ë„ ë‚´ë¶€ì ìœ¼ë¡œëŠ” Promiseë¥¼ ì‚¬ìš©í•œë‹¤
</div>

`ğŸ async_await.js`

```js
async function init() {
  try {
    let menu;
    menu = await fetchMenu();
    await renderPageUI(); // ì²´ì´ë‹
    console.log("menu", menu);
  } catch (error) {
    console.log("ì—ëŸ¬ì²˜ë¦¬");
  }
}

init();
```

<span style='color:rgb(196,58,26);'>Promiseë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ ì•ì—</span> <span style="padding:3px 6px;font-size:16px;border-radius:5px;background-color:rgba(0,0,0,0.03);color:#3f596f;font-weight:bold;">await</span>ë¥¼ ë¶™ì—¬ì£¼ë©´ ë§ˆì¹˜ ë™ê¸° ì²˜ë¦¬ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì²˜ëŸ¼, <span style="padding:0 3px;border-radius:5px;background-color:#E1FEE5;color:#34343c;">ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.</span>  
í•´ë‹¹ ë¬¸ë²•ì˜ ì˜ˆì™¸ì²˜ë¦¬ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ê¸°ì¡´ <span style="padding:3px 6px;font-size:16px;border-radius:5px;background-color:rgba(0,0,0,0.03);color:#3f596f;font-weight:bold;">try / catch ë¬¸ë²•</span>ì„ ì´ìš©í•˜ë©´ ëœë‹¤.
